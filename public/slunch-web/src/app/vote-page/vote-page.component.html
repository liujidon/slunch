<app-header></app-header>

<div *ngIf="authService.isAdmin" class="admin-control">
  <div class="control">
    <mat-slide-toggle style="width: 100%; height:100%" [disabled]="stateService.isOrdering" [(ngModel)]="pollService.allowPoll"
      (click)="togglePoll()">
      <span style="text-overflow:clip;overflow:hidden">Show Poll</span>
    </mat-slide-toggle>
  </div>
  <div class="control">
    <mat-slide-toggle style="width: 100%; height:100%" [disabled]="!(pollService.getAdminSelectedOptions().length > 0 && pollService.allowPoll)"
      [(ngModel)]="stateService.isOrdering" (click)="toggleOrders()">
      <span>Allow Orders</span>
    </mat-slide-toggle>
  </div>

</div>

<div *ngIf="!stateService.isOrdering && pollService.allowPoll">
  <app-poll></app-poll>
</div>
<div style="margin:3em" *ngIf="!stateService.isOrdering && !pollService.allowPoll">
  <h3>Poll not ready yet...</h3>
</div>
<div *ngIf="stateService.isOrdering">
  <app-order></app-order>
</div>

<div *ngIf="sentSuggestions < 1" style="margin:3em">
  <table>
    <tr>
      <td style="padding:5px">
        <mat-form-field appearance="outline" matTooltip="Will be used in future considerations">
          <mat-label>New Suggestion?</mat-label>
          <input matInput placeholder="Enter restaurant" [(ngModel)]="newOption">
        </mat-form-field>
      </td>
      <td style="padding:5px">
        <button mat-raised-button color="warn" [disabled]="newOption.length <= 0" (click)="sendSuggestion()">
          Send
        </button>
      </td>
    </tr>
  </table>
</div>
<div *ngIf="sentSuggestions >= 1" style="margin:3em">
  <h3>
    Thanks for the suggestion!
  </h3>
</div>